{%  extends 'music/base.html' %}

{% block body %}
    <div class="container-fluid">
        {% if all_albums %}
            <h1 style="text-align: center; font-family: 'Satisfy', cursive; color:white;">Here are all my albums</h1><br>
            <div class="row">
                {% for album in all_albums %}

                    <div class="col-md-4" style="padding-left: 20px;">
                        <div class="container" style="background-color: white; height: 430px; width: 320px">
                            <a href="{% url 'music:detail' album.id %}"><img src="{{ album.album_logo }}" height="300" width="300" border="0" style="padding-top:15px; padding-right:10px"/></a>
                            <div>
                                <h3 style="color: black;">{{ album.album_title }}</h3>
                                <h4 style="color: black;">{{ album.artist }}</h4>
                                <!-- Details -->
                                <a href="{% url 'music:detail' album.id %}" class="btn btn-primary btn-sm">View Details</a>

                                <!-- Delete -->
                                <form id="fd-{{album.id}}" action="{% url 'music:album-delete' album.id %}" method="post" style="display: inline;">
                                    {%  csrf_token %}
                                    <input type="hidden" name="album_id" value="{{ album.album_title}}"/>

                                    <button type="button" name="btn" value="Submit" id="submitBtn-{{forloop.counter}}" data-toggle="modal" data-target="#confirm-submit" onClick="confirmAlbumDelete('{{ album.id }},{{ album.album_logo }},{{ album.album_title }},{{ album.artist }},{{ album.genre }}');"  class="btn btn-default btn-sm" >
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </button>
                                </form>
                                <!-- Edit-->
                                <form action="{% url 'music:album-update' album.id %}" style="display: inline;">
                                    <button type="submit" class="btn btn-default btn-sm">
                                        <span class="glyphicon glyphicon-edit"></span>
                                    </button>
                                </form>
                                <!-- Favorite -->
                                <a href="#" class="btn btn-default btn-sm btn-favorite">
                                    <span class="glyphicon glyphicon-star {% if album.is_favorite %}active{% endif %}"></span>
                                </a>
                            </div>
                        </div>
                        <br>
                    </div>

                {% endfor %}
            </div>

            <div class="modal fade" id="confirm-submit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog" style="width: 330px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            Confirmez-vous la suppression de l'album ?<br>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" name="hiddenValue" id="hiddenValue" value="" />
                            <img src="" height="300" id="img" width="300" border="0" style="padding-top: 15px;" >
                            <h3>Album:&nbsp;<label id="albumName"/></h3>
                            <h4>Artist&nbsp;<label id="artist"/></h4>
                            <h4>Genre&nbsp;:<label id="genre"/></h4>
                        </div>
                        <div class="modal-footer">
                            <a href="#" onClick="albumDelete();" class="btn btn-primary pull-left btn-sm">Delete</a>
                            <button type="button" class="btn btn-default pull-left btm-sm" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

        {% else %}
            <h3>You don't have any albums</h3>
        {%  endif %}
    </div>
{% endblock %}